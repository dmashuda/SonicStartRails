<%- model_class = Address -%>

<%= stylesheet_link_tag "maps" %>
<%=javascript_include_tag("https://maps.googleapis.com/maps/api/js")%>
<script type="text/javascript">
    function initialize() {
        var myLatlng = new google.maps.LatLng(<%= @address.latitude%>,<%=@address.longitude%>);
        var mapOptions = {
            center: myLatlng,
            zoom: 12
        };
        var map = new google.maps.Map(document.getElementById('map-canvas'),
                mapOptions);
        var marker = new google.maps.Marker({
            position: myLatlng,
            map: map,
            title: '<%= @address.latitude%>'
        });
    }
    //do work
    google.maps.event.addDomListener(window, 'load', initialize);
</script>

<div class="page-header">
  <h1><%=t '.title', :default => model_class.model_name.human.titleize %></h1>
</div>

<dl class="dl-horizontal">
  <dt><strong><%= model_class.human_attribute_name(:street) %>:</strong></dt>
  <dd><%= @address.street %></dd>
  <dt><strong><%= model_class.human_attribute_name(:city) %>:</strong></dt>
  <dd><%= @address.city %></dd>
  <dt><strong><%= model_class.human_attribute_name(:geographicalRegion) %>:</strong></dt>
  <dd><%= @address.geographicalRegion %></dd>
  <dt><strong><%= model_class.human_attribute_name(:country) %>:</strong></dt>
  <dd><%= @address.country %></dd>
  <dt><strong><%= model_class.human_attribute_name(:postal_code) %>:</strong></dt>
  <dd><%= @address.postal_code %></dd>
  <dt><strong><%= model_class.human_attribute_name(:business_id) %>:</strong></dt>
  <dd><%= @address.business_id %></dd>
  <dt><strong><%= model_class.human_attribute_name(:latitude) %>:</strong></dt>
  <dd><%= @address.latitude %></dd>
  <dt><strong><%= model_class.human_attribute_name(:longitude) %>:</strong></dt>
  <dd><%= @address.longitude %></dd>
</dl>

<div id="map-container">
  <div id="map-canvas"></div>
</div>

<%= link_to t('.back', :default => t("helpers.links.back")),
              addresses_path, :class => 'btn btn-default'  %>
<%= link_to t('.edit', :default => t("helpers.links.edit")),
              edit_address_path(@address), :class => 'btn btn-default' %>
<%= link_to t('.destroy', :default => t("helpers.links.destroy")),
              address_path(@address),
              :method => 'delete',
              :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) },
              :class => 'btn btn-danger' %>
