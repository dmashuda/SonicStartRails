<%= stylesheet_link_tag "maps" %>
<%=javascript_include_tag("https://maps.googleapis.com/maps/api/js")%>

<script type="text/javascript">
    function initialize() {
        var myLatlng = new google.maps.LatLng(<%= @location.latitude%>,<%=@location.longitude%>);
        var mapOptions = {
            center: myLatlng,
            zoom: 12
        };
        var map = new google.maps.Map(document.getElementById('map-canvas'),
                mapOptions);
        var marker = new google.maps.Marker({
            position: myLatlng,
            map: map,
            title: '<%= @location.city%>'
        });
    }
    //do work
    google.maps.event.addDomListener(window, 'load', initialize);
</script>

<div id="map-container">
  <div id="map-canvas"></div>
</div>